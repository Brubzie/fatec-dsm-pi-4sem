{% extends 'base.html' %}

{% block page_title %}
    Register
{% endblock page_title %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Cadastro de Usuário</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        {{ form.as_p }}

        <div class="mb-3 text-center">
            <button type="submit" class="btn btn-primary">Registrar</button>
        </div>

        <p class="mt-3 text-center">Já tem uma conta? <a href="{% url 'login' %}">Faça login aqui</a></p>
    </form>
</div>

<script>
    document.getElementById('phone_number').addEventListener('input', function (e) {
        let value = e.target.value.replace(/\D/g, ''); // Remove caracteres não numéricos
        value = value.replace(/^(\d{2})(\d)/g, '($1) $2'); // Formata DDD
        value = value.replace(/(\d{5})(\d)/, '$1-$2'); // Formata número
        e.target.value = value.slice(0, 15); // Limita ao formato (99) 99999-9999
    });
</script>

{% endblock content %}
